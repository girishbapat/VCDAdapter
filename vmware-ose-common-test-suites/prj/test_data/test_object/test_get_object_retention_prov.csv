TCID,CaseTitle,Catalog,Priority,Variables,PreCondition,Role,ClientType,AuthSettings,Action,Parameter,ExpectResponseCode,ExpectResponseHeader,ExpectResponseBody,ExpectResponseBodySchema,PostValidation,Cleanup,Description,Comment
TestObject#test09_get_object_retention#2,get object retention of current version without version id,ObjectLock|get object retention|Key,P0,"{""bucket_name"": ""obj-retention.%s""%random_bucket_name(),
""object_name"":""obj-retention""}","[(""group1:user1"", ""S3CompatibleAPI"", ""create_bucket"", {""Bucket"":self.variables[""bucket_name""], ""ObjectLockEnabledForBucket"": True}, [200, 409]),
(""group1:user1"", ""S3CompatibleAPI"", ""put_object"", {""Bucket"":self.variables[""bucket_name""], ""Key"": self.variables[""object_name""]}, [200]),
(""group1:user1"", ""S3CompatibleAPI"", ""put_object_retention"", {""Bucket"":self.variables[""bucket_name""], ""Key"": self.variables[""object_name""], ""Retention"":{""Mode"":""GOVERNANCE"", ""RetainUntilDate"":""%sZ""%((datetime.datetime.now()+datetime.timedelta(days=1)).isoformat()[:-3])}}, [200])]",group1:user1,S3CompatibleAPI,,get_object_retention,"{""Bucket"":self.variables[""bucket_name""], ""Key"": self.variables[""object_name""]}",200,,"{'Retention': {'Mode': 'GOVERNANCE', 'RetainUntilDate': datetime.datetime}}",,,"[(""group1:user1"", ""S3CompatibleAPI"", ""put_object_retention"", {""Bucket"":self.variables[""bucket_name""], ""Key"": self.variables[""object_name""], ""BypassGovernanceRetention"": True, ""Retention"":{}}, [200]),
(""group1:user1"", ""S3CompatibleAPI"", ""force_delete_bucket"", {""Bucket"": self.variables[""bucket_name""]}, [204, 404])]",,
TestObject#test09_get_object_retention#3,get object retention of current version,ObjectLock|get object retention|VersionId,P0,"{""bucket_name"": ""obj-retention.%s""%random_bucket_name(),
""object_name"":""obj-retention.%s""%random_bucket_name()}","[(""group1:user1"", ""S3CompatibleAPI"", ""create_bucket"", {""Bucket"":self.variables[""bucket_name""], ""ObjectLockEnabledForBucket"": True}, [200, 409]),
(""group1:user1"", ""S3CompatibleAPI"", ""put_bucket_versioning"", {""Bucket"":self.variables[""bucket_name""],""VersioningConfiguration"":{""Status"":""Enabled""}}, [200]),
(""group1:user1"",""S3CompatibleAPI"",""put_object"",{""Bucket"":self.variables[""bucket_name""],""Key"":self.variables['object_name'],""Body"":""test-v1"",""ContentType"":'text/plain'},[200]),
(""group1:user1"",""S3CompatibleAPI"",""put_object"",{""Bucket"":self.variables[""bucket_name""],""Key"":self.variables['object_name'],""Body"":""test-v2"",""ContentType"":'text/plain'},[200]),
(""group1:user1"",""S3CompatibleAPI"",""list_object_versions"",{""Bucket"":self.variables[""bucket_name""]},[200])]",group1:user1,S3CompatibleAPI,,put_object_retention,"{""Bucket"":self.variables[""bucket_name""], ""Key"": self.variables[""object_name""], ""Retention"":{""Mode"":""GOVERNANCE"", ""RetainUntilDate"":""%sZ""%((datetime.datetime.now()+datetime.timedelta(days=365)).isoformat()[:-3])}, ""VersionId"":self.global_variables[self.variables['object_name']+'_versions_v1'][1]}",200,,,,"[(""group1:user1"", ""S3CompatibleAPI"", ""get_object_retention"", {""Bucket"":self.variables[""bucket_name""], ""Key"": self.variables[""object_name""], ""VersionId"": self.global_variables[self.variables['object_name']+'_versions_v1'][1]}, [200], None, None, None, {'Retention': {'Mode': 'GOVERNANCE', 'RetainUntilDate': datetime.datetime}})]","[(""group1:user1"", ""S3CompatibleAPI"", ""put_object_retention"", {""Bucket"":self.variables[""bucket_name""], ""Key"": self.variables[""object_name""], ""BypassGovernanceRetention"": True, ""Retention"":{}, ""VersionId"":self.global_variables[self.variables['object_name']+'_versions_v1'][1]}, [200]),
(""group1:user1"", ""S3CompatibleAPI"", ""force_delete_bucket"", {""Bucket"": self.variables[""bucket_name""]}, [204, 404])]",,
TestObject#test09_get_object_retention#4,get object retention of previous version,ObjectLock|get object retention|VersionId,P0,"{""bucket_name"": ""obj-retention.%s""%random_bucket_name(),
""object_name"":""obj-retention.%s""%random_bucket_name()}","[(""group1:user1"", ""S3CompatibleAPI"", ""create_bucket"", {""Bucket"":self.variables[""bucket_name""], ""ObjectLockEnabledForBucket"": True}, [200, 409]),
(""group1:user1"", ""S3CompatibleAPI"", ""put_bucket_versioning"", {""Bucket"":self.variables[""bucket_name""],""VersioningConfiguration"":{""Status"":""Enabled""}}, [200]),
(""group1:user1"",""S3CompatibleAPI"",""put_object"",{""Bucket"":self.variables[""bucket_name""],""Key"":self.variables['object_name'],""Body"":""test-v1"",""ContentType"":'text/plain'},[200]),
(""group1:user1"",""S3CompatibleAPI"",""put_object"",{""Bucket"":self.variables[""bucket_name""],""Key"":self.variables['object_name'],""Body"":""test-v2"",""ContentType"":'text/plain'},[200]),
(""group1:user1"",""S3CompatibleAPI"",""list_object_versions"",{""Bucket"":self.variables[""bucket_name""]},[200])]",group1:user1,S3CompatibleAPI,,put_object_retention,"{""Bucket"":self.variables[""bucket_name""], ""Key"": self.variables[""object_name""], ""Retention"":{""Mode"":""GOVERNANCE"", ""RetainUntilDate"":""%sZ""%((datetime.datetime.now()+datetime.timedelta(days=365)).isoformat()[:-3])}, ""VersionId"":self.global_variables[self.variables['object_name']+'_versions_v1'][0]}",200,,,,"[(""group1:user1"", ""S3CompatibleAPI"", ""get_object_retention"", {""Bucket"":self.variables[""bucket_name""], ""Key"": self.variables[""object_name""], ""VersionId"": self.global_variables[self.variables['object_name']+'_versions_v1'][0]}, [200], None, None, None, {'Retention': {'Mode': 'GOVERNANCE', 'RetainUntilDate': datetime.datetime}})]","[(""group1:user1"", ""S3CompatibleAPI"", ""put_object_retention"", {""Bucket"":self.variables[""bucket_name""], ""Key"": self.variables[""object_name""], ""BypassGovernanceRetention"": True, ""Retention"":{}, ""VersionId"":self.global_variables[self.variables['object_name']+'_versions_v1'][0]}, [200]),
(""group1:user1"", ""S3CompatibleAPI"", ""force_delete_bucket"", {""Bucket"": self.variables[""bucket_name""]}, [204, 404])]",,
TestObject#test09_get_object_retention#5,get object retention|RequestPayer,ObjectLock|get object retention|RequestPayer,P3,"{""bucket_name"": ""obj-retention.%s""%random_bucket_name(),
""object_name"":""obj-retention""}","[(""group1:user1"", ""S3CompatibleAPI"", ""force_delete_bucket"", {""Bucket"":""self.variables[""bucket_name""]""}, [204, 404]),
(""group1:user1"", ""S3CompatibleAPI"", ""create_bucket"", {""Bucket"":""self.variables[""bucket_name""]""}, [200]),
(""group1:user1"", ""S3CompatibleAPI"", ""put_object"", {""Bucket"":""self.variables[""bucket_name""]"", ""Key"":""obj-default"", ""Body"":""Test""}, [200])]",group1:user1,S3CompatibleAPI,,get_object_retention,"{'Bucket': 'self.variables[""bucket_name""]', 'Key': 'test-obj-1', 'RequestPayer': 'TODO'}",200,,,,,"[(""group1:user1"", ""S3CompatibleAPI"", ""put_object_retention"", {""Bucket"":self.variables[""bucket_name""], ""Key"": self.variables[""object_name""], ""BypassGovernanceRetention"": True, ""Retention"":{}}, [200]),
(""group1:user1"", ""S3CompatibleAPI"", ""force_delete_bucket"", {""Bucket"": self.variables[""bucket_name""]}, [204, 404])]",,Only supported by AWS